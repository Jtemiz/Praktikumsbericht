%% Dokumenteinstellungen
\documentclass[
    type=Projektarbeit,
    status=draft, % Ändern zu "final" für die Abgabeversion
    language=german, % oder: "english"
    bibengine=bibtex,
]{unibwm-inf-thesis}

\usepackage{textcomp}
\usepackage{verbatim}
\usepackage{listings}
\bibliographystyle{apalike-german}

\newcommand{\todo}[1]{\textbf{TODO: #1}}
\setvalue{title}{Qualitätssicherung im Schaltanlagenbau: Konzeption und Implementierung DPP}
\setvalue{author}{Joel Temiz}
\setvalue{matrnr}{1196670}

\setvalue{examiner}{Prof. Dr. Ulrike Lechner}
\setvalue{advisor}{Lisa Verlande}
\setvalue{advisorlabel}{Betreuerin}
\setvalue{seminartitle}{Praxisprojekt}
\setvalue{seminarcontext}{Sommertrimester 2022}
\setvalue{deadline}{30.06.2022}
\usepackage{amsmath}
\usepackage{nameref}
\usepackage[printonlyused]{acronym}
\begin{document}
    \tableofcontents

    \mainmatter
    \begin{abstract}
        abstract
    \end{abstract}


    \chapter{Einleitung und Motivation}


    \chapter{Gesamtkonzept von DPP und Einordnung in Fertigungsprozess}
    Zur Umsetzung eines betrieblichen Anwendungssystems muss im ersten Schritt eine Konzeption erfolgen, die darstellt,
    wie die Anwendung gestaltet sein kann, um das gewünschte Ziel zu erfüllen.
    Die Anfertigung der Konzeption erfolgte stets in enger Zusammenarbeit mit dem Product Owner, bzw dem Praxispartner.
    Hierfür wurden wöchentlich im Meeting die Fortschritte am Projekt dargestellt, sowie die geplanten Vorhaben der kommenden Woche vorgestellt.

    \section{Anforderungen}
    In Rücksprache mit dem Praxispartner, wurden einerseits die Ziele des Systems \textit{DPP} herausgearbeitet.

    Andererseits wurden einzelne Anforderungen konkretisiert, die dazu dienen sollen, das Ziel zu erfüllen.
    Das Hauptziel des Anwendungssystems \textit{DPP} ist die Minimierung von fehlerhaften Schaltanlagen.
    Als Anforderung wurden hierbei eine maximale Fehlerquote von 3\% genannt.

    Um dieser Anforderung gerecht werden zu können, stellt sich der Praxispartner verschiedene Leistungen vor.
    Diese sind einerseits dem Prüfprozess zuordenbar, andererseits soll bereits die Entstehung von Fehlern vermieden
    werden, indem die Monteure während der Produktion unterstützt werden.

    \subsection{Digitale Maschinenakte}
    Zur Verwirklichung des Systems ist es notwendig, die physische Entität des Schaltschranks um eine zusätzliche,
    virtuelle Dimension zu erweitern.
    Diese virtuelle Komponente lässt sich als eine digitale Maschinenakte beschreiben und begleitet das Produkt vom
    Auftragseingang über die Produktion
    bis hin zur Qualitätssicherung.
    Weiter wäre es denkbar, diese auch nach der Auslieferung noch besteht, um Wartungs- und Reparaturvorgänge
    dokumentieren zu können.
    Sie soll dem jeweiligen Schaltschrank über seine Seriennummer eindeutig zuordenbar sein, sodass sie dauerhaft
    aktualisiert werden kann und auch Informationen aus ihr hervorgehen können.
    Beispielsweise soll sie es im Zuge des kontinuierlichen Verbesserungsprozesses ermöglichen, bei einem in der
    Qualitätssicherung erkannten Mangel auf einen vorhergehenden Montageschritt verweisen zu können.
    Einträge der digitalen Maschinenakte, die im Laufe der Produktion und Qualitätssicherung notwendig sind, sind unter
    anderem:
    \begin{itemize}
        \item CAD-Modell des Schaltschranks
        \item Montagepläne
        \item Schaltpläne
        \item Stücklisten
        \item Simulation der zugehörigen Maschine
    \end{itemize}



    \subsection{Kontinierliche technische Prüfung}
    Die erste Leistung ist die \ac{ktP} der Schaltschränke durch Simulation.
    Ziel der \ac{ktP} ist die Auflösung der isolierten Produktion von Schaltschrank und Mechanik.
    Hierbei soll die Maschine, für die die Schaltanlage gebaut wird, durch ein System simuliert werden.
    Der zu produzierende Schaltschrank wird hierzu während der Produktion mit einem Simulationssystem verbunden, dass die Logik der zugehörigen Maschine dauerhaft simuliert.
    Liegt ein technischer Fehler im Schaltschrank vor, würde dieser Fehler direkt im Zuge der Produktion auffallen, bereits vor der Auslieferung auf den Defekt reagiert werden kann.
    Weiter soll das System den derzeitigen Arbeitsfortschritt kennen, um ausschließlich die bisher funktionierenden Baugruppen zu prüfen und folglich realistische Fehlereinschätzungen zu liefern.


    Ein reduzierter Prototyp für Software und Hardware der \ac{ktP} existiert bereits.
    Diese ist bislang jedoch lediglich für eine Version eines Produkts ausgelegt und agiert ohne Kommunikation zu anderen Systemen.
    Die Herausforderung hierbei liegt darin, die \ac{ktP} automatisiert und generisch für jeden Schaltschrank zu ermöglichen.
    Dazu muss die, in der Maschinenakte hinterlegte Simulation durch das System selbstständig aktualisiert werden.
    Da für diese die Logik der Schaltpläne notwendig ist, werden Schnittstellen zu dem Schaltplan-CAD-System benötigt.
    Eine Rücksprache mit dem Unternehmen EPLAN hat zu Beginn des Projektes stattgefunden.
    Dieses sicherte zu, zum Zwecke der Umsetzung der Schnittstellen bestmöglich zu unterstützen.

    %TODO Simulation erklären
    
    \subsection{Visuelle Prüfung}
    Die visuelle Prüfung soll durch kameragestützte Sensorik erfolgen.
    In der Qualitätssicherung soll dabei lediglich ein oder mehrere Fotos des jeweiligen Schaltschranks gemacht werden, die in das System geladen werden.
    Das System soll das Bild / die Bilder darauffolgend verarbeiten und auf mehrere Gesichtspunkte prüfen.
    Gesichtspunkte die vom Product Owner aufgezählt wurden sind
    \begin{itemize}
        \item Verfügbarkeit der Bauteile: Die Bauteile / Baugruppen, die auf der Stückliste des Schaltplans oder
         CAD-Modells aufgezählt sind, müssen im Schaltschrank verbaut sein
        \item Richtige Position der Bauteile: Die Einbauposition der jeweiligen Bauteile / Baugruppen müssen stets an
        der dafür vorgesehenen Position im Schaltschrank verbaut sein
        \item Optische Beschädigungen: Optische Beschädigungen am Äußeren des Schaltschranks dürfen nicht vorhanden sein
    \end{itemize}


    \subsection{Fehlerfreies Arbeiten}
    \begin{itemize}
        \item Umsetzung derzeit noch nicht geplant
        \item Idee:
        \item Unterstützung der Monteure in der Produktion
        \item z.B. durch AR -> Brillen zeigen die Position des einzubauenden Bauteils.
        \item Cobotik --> Drehmoment-Schlüssel stellt automatisch drehmoment ein, zieht schrauben nach.
    \end{itemize}
    Die Funktion \textit{Fehlerfreies Arbeiten} ist in dem Kontext nicht direkt der Qualitätssicherung zuzuweisen.
    Ihr Ziel ist es, den laufenden Produktionsprozess dahingehend zu unterstützen, dass Fehler in der Montage von
    Beginn an vermieden werden.
    Dies soll erreicht werden, indem im Produktionsprozess Technologien eingesetzt werden, die den Monteur schrittweise
    durch die Produktion begleiten und ihm Anweisungen zur Montage der Bauteile / Baugruppen geben.
    Vom Product Owner wurde hier beispielsweise der Einsatz von AR-Brillen genannt, die dem Monteur bei seiner Arbeit
    die vorgesehene Position eines Bauteils einblendet, bzw. das Bauteil an der vorgesehenen Position visuell simuliert.
    Als weitere Technologie wurde Cobotik genannt.
    Ein Anwendungsbeispiel hierfür könnte das automatische Ablängen der Kabelkanäle oder Hutschienen sein.
    Außerdem ist eine häufige Fehlerquelle der falsche Anzugsdrehmoment von Schrauben im Schaltschrank.
    Dem kann durch elektronische Drehmomentschlüssel mit voreingestelltem Drehmoment vorgesorgt werden.


    \section{Architektur von DPP}
    \begin{itemize}
        \item Aufbau als eigenständige Services
        \item Services benötigen lediglich digitale Maschinenakte
        \item Kommunizieren mit DigMA --> Erhalten Soll-Zustand, Senden Ist-Zustand
        \item
    \end{itemize}


    \chapter{Implementierung \textit{Visuelle Prüfung}}
    Teilmodul von AS DPP: DPP Visual\\
    Ziel von DPP Visual: Sind alle notwendigen Bauteile vorhanden?
    Sind die Bauteile an der richtigen Stelle verbaut?\\
    Ansatz zur technischen Umsetzung: Anlernen durch Fotos der Bauteile.
    Abgleich der Bilder des Schaltschranks mit Bildern der Bauteile --> Generierung von Keys mit Beschreibung, die
    Übereinstimmung beschreiben.\\
    Problem: Übereinstimmungen teilweise fehlerhaft \\
    Lösung: Clustering der Positionen der Matches mittels KMeans-Algorithmus.
    Vergleich der Ähnlichkeit der Farbhistogramme von Template und Cluster


    \section{Programmiersprache}
    Im Zuge der Implementierung des Moduls DPP Visual werden zahlreiche Methoden der Bildverarbeitung und des
    Computer-Visions benötigt.
    Zudem werden Algorithmen zum Umgang mit großen Datenmengen, wie Clustering verwendet.
    Eine weitere Anforderung für den weiteren Verlauf ist die Unterstützung der Intel RealSense SDK, die benötigt wird,
    um Aufnahmen der 3D-Kamera zu verarbeiten.

    Eine Programmiersprache die diese Anforderungen allesamt erfüllt ist Python.
    Diese bietet neben der Unterstützung der Intel RealSense SDK zahlreiche Libraries wie OpenCV, Numpy, Pandas,
    Pillow etc., die bei der Lösung von Problemen in der Mathematik sowie der Computer-Vision unterstützen.

    Diese Libraries können mit vergleichsweise geringem Aufwand über den Pip-Installer in die Anwendung integriert
    werden, sodass der Funktionsumfang deutlich erweitert werden kann.

    Für die Umsetzung der Testumgebung wurde zusätzlich das pythonbasierte Framework \textit{Flask} mit der
    Template-Engine \textit{Jinja} herangezogen.
    Diese Kombination ermöglicht es eine webbasierte Oberfläche umzusetzen, die das Testen mit einem mobilen Endgerät
    (Tablet, Smartphone) ermöglicht und somit die simultane Überprüfung der Anwendungsergebnisse vereinfacht.


    \section{Konzeption DPP Visual}


    \chapter{Testumgebung CV-Modul}



    \bibliography{main}
    \backmatter
    \input{wochenbericht.tex}
    \input{acronym.tex}
    \input{erklaerung-unibw}

\end{document}
